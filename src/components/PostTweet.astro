---
import type { CollectionEntry } from 'astro:content';
import { Twitter } from 'lucide-preact';

type Props = { post: CollectionEntry<'posts'> };

const { slug, data } = Astro.props.post;
const href = new URL('https://twitter.com/intent/tweet');

href.searchParams.append('text', data.title);
href.searchParams.append('url', String(new URL(`blog/${slug}`, Astro.site)));
href.searchParams.append('via', import.meta.env.USERNAME);
---

<a
  href={href}
  target="_blank"
  rel="nofollow noopener noreferrer"
  aria-label="Share on Twitter"
  class={`flex items-center gap-2 rounded-md bg-2 py-2 px-4 shadow
          hover:bg-3 duration-200 motion-safe:transition-colors`}
>
  <Twitter class="h-5 w-5 stroke-brand" />
  <span class="text-brand text-xs">Share</span>
</a>
